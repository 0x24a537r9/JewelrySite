<!DOCTYPE html>
<html>
  <head>
    <title>JewelrySite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <!-- Stylesheets -->
    <link href="css/normalize.css" rel="stylesheet" type="text/css">
    <link href="css/index.min.css" rel="stylesheet" type="text/css">
    <!-- Scripts -->
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/modernizr.custom.min.js"></script>
  </head>
  <body>
    <div class="debugger">
      <label><input type="checkbox"> Debug</label>
    </div>
    <div class="overlay">
      <div class="lightbox">
        <div class="background"></div>
        <h1></h1>
      </div>
      <div class="close">X</div>
    </div>
    <main class="parallax">
      <section id="s1" class="group z-2">
        <div class="background layer z-2" style="background-image: url(img/jewelry-18.jpg);"></div>
        <div class="captions layer z-1">
          <div class="logo">LOGO</div>
          <h2>Green kunznite + 20k gold</h2>
        </div>
      </section>
      <section id="s2" class="banner group z-0">
        <div class="layer z-0">
          <h1>Philosophy</h1>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur ullamcorper nibh vel auctor aliquet. In viverra, magna at blandit sagittis, metus orci congue nibh, ac elementum orci erat non est. Donec eu scelerisque tortor. Phasellus maximus non mauris vel porta. Proin non libero vel turpis suscipit efficitur. Sed auctor neque nisi, eu tristique lorem viverra sed. Integer congue non ipsum nec commodo. Sed et nunc risus. Duis sollicitudin commodo odio, eget dictum magna bibendum et. In tortor dolor, blandit sit amet velit nec, pretium pulvinar turpis. Nulla dictum ante ex, vehicula malesuada diam ullamcorper et.</p>
        </div>
      </section>
      <section id="s3" class="group z-3">
        <div class="background layer z-3" style="background-image: url(img/jewelry-09.jpg);"></div>
        <div class="captions layer z-2">
          <h1>Meteorite + vintage chain</h1>
        </div>
      </section>
      <section id="s4" class="group z-2">
        <div class="background layer z-2" style="background-image: url(img/jewelry-07.jpg);"></div>
        <div class="captions layer z-2">
          <h1>Pearl + vintage chain</h1>
        </div>
      </section>
      <section id="s5" class="group z-3">
        <div class="background layer z-3" style="background-image: url(img/jewelry-02.jpg);"></div>
        <div class="captions layer z-2">
          <h1>Rainbow aquamarine +<br>&nbsp;&nbsp;&nbsp;&nbsp;20k gold</h1>
        </div>
      </section>
      <section id="s6" class="group z-10">
        <div class="background layer z-10" style="background-image: url(img/cross-section.jpg);"></div>
      </section>
      <section id="s7" class="group z-0">
        <div class="columns layer z-0">
          <div class="thumbnail" data-caption="Blue kunzanite + brass"
               data-caption-align="top-right">
            <img src="img/jewelry-00.jpg">
          </div>
          <div class="thumbnail" data-caption="Afghan sugilite + 925 sterling silver"
               data-caption-align="top-left">
            <img src="img/jewelry-01.jpg">
          </div>
          <div class="thumbnail" data-caption="Rainbow aquamarine + 20k gold"
               data-caption-align="top-left">
            <img src="img/jewelry-02.jpg">
          </div>
          <div class="thumbnail" data-caption="Smoky quartz + vintage chain"
               data-caption-align="top-left">
            <img src="img/jewelry-03.jpg">
          </div>
          <div class="thumbnail" data-caption="Vintage French &quot;Blessed Miraculous&quot; Medal + 925 sterling silver"
               data-caption-align="top">
            <img src="img/jewelry-04.jpg">
          </div>
          <div class="thumbnail" data-caption="Pearl + vintage chain"
               data-caption-align="bottom-right">
            <img src="img/jewelry-07.jpg">
          </div>
          <div class="thumbnail" data-caption="Blue kunzanite + 20k gold"
               data-caption-align="top-right">
            <img src="img/jewelry-05.jpg">
          </div>
          <div class="thumbnail" data-caption="Vintage French &quot;Blessed Miraculous&quot; Medal + chrome"
               data-caption-align="top">
            <img src="img/jewelry-06.jpg">
          </div>
          <div class="thumbnail" data-caption="Turquoise Swarovski crystals + ruby + 20k gold"
               data-caption-align="top-right">
            <img src="img/jewelry-08.jpg">
          </div>
          <div class="thumbnail" data-caption="Meteorite + vintage chain"
               data-caption-align="bottom-right">
            <img src="img/jewelry-09.jpg">
          </div>
          <div class="thumbnail" data-caption="Amethyst + 14k gold"
               data-caption-align="bottom-right">
            <img src="img/jewelry-10.jpg">
          </div>
          <div class="thumbnail" data-caption="Smokey quartz + bronze chain"
               data-caption-align="top-left">
            <img src="img/jewelry-11.jpg">
          </div>
          <div class="thumbnail" data-caption="Clear quartz + vintage chain // moss display case"
               data-caption-align="bottom-right">
            <img src="img/jewelry-12.jpg">
          </div>
          <div class="thumbnail" data-caption="Rose quartz + green amethyst + moon stone + pearl"
               data-caption-align="top-right">
            <img src="img/jewelry-13.jpg">
          </div>
          <div class="thumbnail" data-caption="Cruelty free blue finch feather + labradorite + 14k gold"
               data-caption-align="top">
            <img src="img/jewelry-14.jpg">
          </div>
          <div class="thumbnail" data-caption="Cruelty free owl feather + 14k gold"
               data-caption-align="top-left">
            <img src="img/jewelry-15.jpg">
          </div>
          <div class="thumbnail" data-caption="Cruelty free parrot + peacock feathers + vintage chain"
               data-caption-align="top">
            <img src="img/jewelry-16.jpg">
          </div>
          <div class="thumbnail" data-caption="Turquoise + coral + 14k gold + vintage chain"
               data-caption-align="top-right">
            <img src="img/jewelry-17.jpg">
          </div>
          <div class="thumbnail" data-caption="Green kunzanite + 20k gold"
               data-caption-align="bottom-left">
            <img src="img/jewelry-18.jpg">
          </div>
          <div class="thumbnail" data-caption="Black mountain turquoise + emerald + 14k gold"
               data-caption-align="top">
            <img src="img/jewelry-19.jpg">
          </div>
        </div>
      </section>
      <section id="s8" class="banner group z-0">
        <div class="layer z-0">
          <h1>Methods</h1>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur ullamcorper nibh vel auctor aliquet. In viverra, magna at blandit sagittis, metus orci congue nibh, ac elementum orci erat non est. Donec eu scelerisque tortor. Phasellus maximus non mauris vel porta. Proin non libero vel turpis suscipit efficitur. Sed auctor neque nisi, eu tristique lorem viverra sed. Integer congue non ipsum nec commodo. Sed et nunc risus. Duis sollicitudin commodo odio, eget dictum magna bibendum et. In tortor dolor, blandit sit amet velit nec, pretium pulvinar turpis. Nulla dictum ante ex, vehicula malesuada diam ullamcorper et.</p>
          <p>Vivamus rhoncus, felis vitae mollis vestibulum, velit turpis consectetur dui, id faucibus dui felis quis nunc. Quisque a velit posuere, congue massa tincidunt, tincidunt nisi. In in efficitur ligula. Sed laoreet tellus vitae urna posuere, nec fringilla turpis bibendum. Proin convallis sagittis ipsum, vitae viverra nisi auctor sit amet. Aenean at vulputate enim. Donec nec urna ac sem ultricies ullamcorper. Phasellus consectetur dolor et orci accumsan interdum. Mauris auctor est id massa ultricies placerat. Proin scelerisque ex quam, ac tempus ligula imperdiet et.</p>
        </div>
      </section>
      <section id="s9" class="group z-2">
        <div class="background layer z-2" style="background-image: url(img/jewelry-06.jpg);"></div>
        <div class="captions layer z-1">
          <h1>Vintage French "Blessed Miraculous" Medal + 925 sterling silver</h1>
        </div>
      </section>
      <section id="s10" class="group z-1">
        <div class="background layer z-1" style="background-image: url(img/jewelry-13.jpg);"></div>
        <div class="captions layer z-0">
          <h1>Rose quartz + green amethyst + moon stone + pearl</h1>
        </div>
      </section>
      <section id="s11" class="group z-2">
        <div class="background layer z-2" style="background-image: url(img/jewelry-05.jpg);"></div>
        <div class="captions layer z-1">
          <h1>Blue kunzanite + 20k gold</h1>
        </div>
      </section>
    </main>
    <script>
      var lightboxImageAspectRatio = null;


      function handleDocumentReady() {
        $('.debugger input').click(function() {
          $(document.body).toggleClass('debug', this.checked);
        });

        $('.thumbnail').click(function() {
          var $thumbnail = $(this);
          showLightbox($thumbnail.find('img')[0].src, $thumbnail.attr('data-caption'),
              $thumbnail.attr('data-caption-align'));
        });

        $('.overlay, .overlay .close').click(hideLightbox);

        $(window).resize(resizeLightbox);
      }


      function showLightbox(src, caption, captionAlign) {
        var img = new Image();
        $(img).load(function() {
          lightboxImageAspectRatio = img.naturalWidth / img.naturalHeight;
          delete img;

          $('.lightbox .background').css('background-image', 'url(' + src + ')');
          $('.lightbox h1').text(caption).attr('class', captionAlign);
          resizeLightbox();
          $('.overlay').fadeIn(280);
        }).error(function() {
          console.error('Image failed to load: ' + src);
        }).attr('src', src);
      }


      function hideLightbox() {
        lightboxImageAspectRatio = null;
        $('.overlay').fadeOut(280);
      }


      function resizeLightbox() {
        if (!lightboxImageAspectRatio) {
          return;
        }

        var $overlay = $('.overlay');
        var availableWidth = $overlay.width();
        var availableHeight = $overlay.height();
        var availableAspectRatio = availableWidth / availableHeight;

        if (lightboxImageAspectRatio >= availableAspectRatio) {
          var lightboxWidth = availableWidth;
          var lightboxHeight = availableWidth / lightboxImageAspectRatio;
        } else {
          var lightboxWidth = availableHeight * lightboxImageAspectRatio;
          var lightboxHeight = availableHeight;
        }

        $('.lightbox').width(lightboxWidth).height(lightboxHeight);
      }


      $(document).ready(handleDocumentReady);


      // DEBUG. DO NOT SUBMIT.
      $(function() {
        $('.parallax').scrollTop(3233);
      });
    </script>
  </body>
</html>
